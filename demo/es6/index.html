<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title></title>
    <!-- 加载Traceur编译器 -->
    <!--<script src="http://google.github.io/traceur-compiler/bin/traceur.js" type="text/javascript"></script>-->
    <!-- 将Traceur编译器用于网页 -->
    <!--<script src="http://google.github.io/traceur-compiler/src/bootstrap.js" type="text/javascript"></script>-->
    <script type="text/javascript" src="js/traceur.js"></script>
    <script type="text/javascript" src="js/bootstrap.js"></script>
    <!-- 打开实验选项，否则有些特性可能编译不成功 -->
    <script>
        //报错
        //traceur.options.experimental = true;
    </script>

</head>
<body>
<script type="module">
var single = a => alert(a);
     single('hello, world')

    //箭头函数
    /* {
     // single 函数名  a 参数   alert(a) 方法体
     var single = a => alert(a);
     single('hello, world')

     //无参数写法
     var noparam = ()=> alert('no param');

     // 多个参数需要用到小括号，参数间逗号间隔，例如两个数字相加
     var add = (a, b) => a + b;
     let count = add(3, 5);

     //函数体多条语句需要用到大括号
     var add = (a, b, c) => {
     var t = a + b + c;
     return t / 3;
     };
     alert(add(3, 4, 5));

     //返回对象时需要用小括号包起来，因为大括号被占用解释为代码块了  经测试，无影响
     var getHash = arr => {
     return ({
     name: 'Jack',
     age: 33
     })
     }
     console.log(getHash([]));
     //直接作为事件handler  function(ev){}
     document.addEventListener('click', ev => {
     console.log(ev)
     })
     //作为数组排序回调
     var arr = [1, 9, 2, 4, 3, 8].sort((a, b) => {
     if (a - b > 0) {
     return 1
     } else {
     return -1
     }
     })
     }*/
    //Class
    /*{
     //类的定义
     class Animal {
     //ES6中新型构造器
     constructor(name) {
     this.name = name;
     }

     //实例方法
     sayName() {
     console.log('My name is ' + this.name);
     }
     }
     //类的继承
     class Programmer {
     constructor(name) {
     //直接调用父类构造器进行初始化
     //super(name);
     this.name = name;
     }

     program() {
     console.log("I'm coding...");
     }

     get name() {
     return this._name;
     }

     set name(name) {
     this._name = name;
     }

     static print() {
     console.log(this.name);
     }
     }
     //实例化
     var animal = new Animal('dummy'),
     wayou = new Programmer('wayou');
     //animal.sayName();//输出 ‘My name is dummy’
     //wayou.sayName();//输出 ‘My name is wayou’ 继承父类的方法
     wayou.program();//输出 ‘I'm coding...’
     console.log(wayou.name); //继承父类的属性
     Programmer.print(); //静态方法
     console.log(wayou.name);
     console.log(wayou._name);
     }*/
    //Object
    /*{
     //通过对象字面量创建对象
     var human = {
     breathe(){
     console.log('breathing...');
     }
     };
     var worker = {
     __proto__: human, //设置此对象的原型为human,相当于继承human
     company: 'freelancer',
     work() {
     console.log('working...');
     }
     };
     human.breathe();//输出 ‘breathing...’
     //调用继承来的breathe方法
     worker.breathe();//输出 ‘breathing...’
     worker.work();
     }*/
    //模板字符串
    /*{
     // 基本的字符串创建
     var base = `In JavaScript \n is a line-feed.`
     console.log(base);
     // 多行字符串
     console.log(`In JavaScript this is
     not legal.`);
     // 构建DOM查询
     var name = "Bob", time = "today";
     console.log(`Hello ${name}, how are you ${time}?`);
     let a = "abc", b = "bcd";
     var url = `http://foo.org/bar?a=${a}&b=${b}`
     console.log(url);
     }*/
    //let与const 关键字
    /*{
     //重复定义，同作用域
     let a = "abc";
     {
     let a = "bcd";
     }
     //var a ="abc";
     //var a ="bcd";
     //let不像var那像，会发生”变量提升“现象
     var arr = [];
     var func = ()=> {
     for (let i = 0; i < 10; i++) {
     arr[i] = function(){
     console.log(i);
     }
     }
     }
     func();
     arr[6]();
     }*/
    //for of
    /*{
     var someArray = [ "a", "b", "c" ];

     for (let v of someArray) {
     console.log(v);//输出 a,b,c
     }

     var someArray = [["abc","abc1"],["bcd","bcd1"]];  //此处用到Map
     for (let [k,v] of someArray) {
     console.log(k);//输出 a,b,c
     console.log(v);//输出 a,b,c
     }
     var someArray = [{name:"abc"},{name:"bcd"}]; //类似于Java或者C#的 foreach
     for(let obj of someArray){
     console.log(obj);
     }
     }*/
    //Modules 模块
    /*{
     //编译不过
     //import {sum,pi} from "./js/math";
     //alert("2π = " + math.sum(math.pi, math.pi));
     }*/
    //Promises 对象
    /*{
        //使用定义函数
        var promise = new Promise(function (resolve, reject) {
            // 进行一些异步或耗时操作
            if (result) {
                resolve("Stuff worked!");
            } else {
                reject(Error("It broke"));
            }
        });
        //绑定处理程序
        promise.then(function (result) {
            //promise成功的话会执行这里
            console.log(result); // "Stuff worked!"
        }, function (err) {
            //promise失败会执行这里
            console.log(err); // Error: "It broke"
        });


        var p1 = new Promise(function (resolve) {
            setTimeout(function () {
                resolve("Hello");
            }, 3000);
        });

        var p2 = new Promise(function (resolve, reject) {
            setTimeout(function () {
                resolve("World");
            }, 1000);
        });

        Promise.all([p1, p2]).then(function (result) {
            //等待所有的resolve，才会执行
            console.log(result); // ["Hello", "World"]
        }, function (result) {
            //只要有reject就会执行，且会停止后续函数执行
            console.log(result);
        });
        Promise.race([p1, p2]).then(function (result) {
            //只要一个resolve就会执行
            console.log(result);
        });
    }*/

</script>
</body>
</html>